{% block includes %}

    {#    <script src="js/jquery-1.11.0.min.js"></script>#}
    {#    <script src="js/bootstrap.min.js"></script>#}
    {#    <script src="js/wow.min.js"></script>#}


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>


{% endblock %}

{% block body %}

    <script type="text/javascript">
        var data = JSON.parse('{{ dictionary | safe}}');

        var cat = [];
        for (var h in data) {
            cat.push(data[h]["hour_of_day"]);
        }
        var freq = [];
        for (var key in data) {
            console.log(key);
            freq.push(data[key]["freq"]);
            {#        dates.push(d[key]['date']);#}
            {#        opens.push(d[key]['Open']);#}
            {#        trends.push(d[key]['trend']);#}
            {#        volume.push(d[key]['Volume']);#}

        }
        function draw_chart1() {

            $('#container0').highcharts({
                title: {
                    text: 'Lifetime Location Updates by Hour of Day',
                    x: -20 //center
                },
                chart: {
                    type: 'column'
                },
                legend: {
                    enabled: false
                },
                subtitle: {
                    text: 'Source: CDR',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Frequency of Network Updates'
                    },
                    lineWidth: 0,
                    lineColor: 'transparent',
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Hour',
                    data: freq
                }]
            });
        }

        function draw_chart2() {

            $('#container1').highcharts({
                title: {
                    text: 'Lifetime Location Updates by Hour of Day',
                    x: -20 //center
                },
                chart: {
                    type: 'column'
                },
                legend: {
                    enabled: false
                },
                subtitle: {
                    text: 'Source: CDR',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Frequency of Network Updates'
                    },
                    lineWidth: 0,
                    lineColor: 'transparent',
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Hour',
                    data: freq
                }]
            });
        }
        {##}
        function draw_chart3() {

            $('#container2').highcharts({
                title: {
                    text: 'Lifetime Location Updates by Hour of Day',
                    x: -20 //center
                },
                chart: {
                    type: 'column'
                },
                legend: {
                    enabled: false
                },
                subtitle: {
                    text: 'Source: CDR',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Frequency of Network Updates'
                    },
                    lineWidth: 0,
                    lineColor: 'transparent',
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Hour',
                    data: freq
                }]
            });
        }
        function draw_chart4() {

            $('#container3').highcharts({
                title: {
                    text: 'Lifetime Location Updates by Hour of Day',
                    x: -20 //center
                },
                chart: {
                    type: 'column'
                },
                legend: {
                    enabled: false
                },
                subtitle: {
                    text: 'Source: CDR',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Frequency of Network Updates'
                    },
                    lineWidth: 0,
                    lineColor: 'transparent',
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'Hour',
                    data: freq
                }]
            });
        }

        Highcharts.setOptions({
            colors: ['#2AB585', '#F27067', '#36ADE3', '#EF7E42', '#78CEDD', '#22364E', '#CED1D1', '#BDE5EC', '#FAB893', '#98CBBB', '#F9B6B0']
        });
        $(document).ready(
                function () {
                    draw_chart1();
                    draw_chart2();
                    draw_chart3();
                    draw_chart4();
                }
        );
    </script>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title"> How </h3>
        </div>
        <div class="panel-body">
            <div id="container0" style="min-width: 310px; height: 250px; margin: 0 auto"></div>
        </div>
    </div>

    <div class="container">
        <div class="panel-group" id="accordion">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <a data-toggle="collapse"
                           href="#collapseOne">
                            Sentiment Chart
                        </a>
                    </h3>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="container1" style="min-width: 310px; height: 350px; margin: 0 auto"></div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <a data-toggle="collapse"
                           href="#collapseTwo">
                            Trends Chart
                        </a>
                    </h3>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="container2" style="min-width: 310px; height: 350px; margin: 0 auto"></div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion"
                           href="#collapseThree">
                            Volume Chart
                        </a>
                    </h3>
                </div>
                <div id="collapseThree" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div id="container3" style="min-width: 310px; height: 350px; margin: 0 auto"></div>
                    </div>
                </div>
            </div>
            {# <div class="row">#}
            {#    <div class="col-lg-12">#}
            {#<table id="output" data-sort="true" style="width: 100%">#}
            {#                        <thead>#}
            {#                        {% for colname in d[0] %}#}
            {#                            <th>#}
            {#                                {{ colname }}#}
            {#                            </th>#}
            {#                        {% endfor %}#}
            {#                        </thead>#}
            {#                        <tbody>#}
            {#                        {% for row in output %}#}
            {#                       {% for row in d %}#}
            {#                            <tr>#}
            {#                                {% for datapoint in row %}#}
            {##}
            {#                                    <td>{{ datapoint }}</td>#}
            {#                                {% endfor %}#}
            {#                            </tr>#}
            {#                        {% endfor %}#}
            {#                        </tbody>#}
            {#                    </table>#}
            {#</div>#}
            {#</div>#}
            {#    <div class="col-xs-12">#}
            {#        <div id="container2" style="min-width: 310px; height: 320px; margin: 0 auto"></div>#}
            {#    </div>#}
        </div>
    </div>
{% endblock %}